import type { NextPage } from 'next'
import Head from 'next/head'
import { useRouter } from 'next/router'
import { useSession } from 'next-auth/react'
import { Text, Container, Spacer } from '@nextui-org/react'
import { LoginButton } from 'components/loginButton'
import { SESSION_STATUS } from 'utils/utils'
import { Loading } from 'components/loading/loading'

const Home: NextPage = () => {
  const router = useRouter()
  const { status } = useSession()
  if (status === SESSION_STATUS.LOADING) return <Loading />
  if (status === SESSION_STATUS.AUTHENTICATED) router.push('/add')
  return (
    <>
      <Head>
        <title>My Commands</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      {status === SESSION_STATUS.UNAUTHENTICATED && (
        <main
          style={{
            height: '100vh',
            width: '100vw',
            maxWidth: '960px',
            margin: '0 auto',
            display: 'flex',
            justifyContent: 'space-around',
            flexDirection: 'column'
          }}
        >
          <Container>
            <Text
              h1
              css={{
                textAlign: 'center',
                '@xs': {
                  textAlign: 'right'
                }
              }}
            >
              My Commands
            </Text>
            <Text
              css={{
                textAlign: 'center',
                '@xs': {
                  textAlign: 'right'
                }
              }}
            >
              Guarda todos tus comandos en un solo lugar
            </Text>
          </Container>
          <Container display='flex' direction='column' alignContent='flex-end'>
            <Spacer y={10}></Spacer>
            <LoginButton />
          </Container>
        </main>
      )}
    </>
  )
}

export default Home
